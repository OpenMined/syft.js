<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Syft][1]
    -   [Parameters][2]
    -   [Examples][3]
    -   [newJob][4]
        -   [Parameters][5]
-   [Job][6]
    -   [Properties][7]
    -   [on][8]
        -   [Parameters][9]
    -   [start][10]
    -   [request][11]
    -   [report][12]
        -   [Parameters][13]
    -   [train][14]
        -   [Parameters][15]
-   [Job#accepted][16]
    -   [Properties][17]
-   [Job#rejected][18]
    -   [Properties][19]
-   [Job#error][20]
-   [SyftModel][21]
    -   [Properties][22]
    -   [toProtobuf][23]
    -   [createSerializedDiff][24]
        -   [Parameters][25]
    -   [createSerializedDiffFromModel][26]
        -   [Parameters][27]
-   [Plan][28]
    -   [execute][29]
        -   [Parameters][30]
-   [PlanTrainer][31]
    -   [Properties][32]
    -   [on][33]
        -   [Parameters][34]
    -   [start][35]
        -   [Parameters][36]
    -   [stop][37]
    -   [resume][38]
    -   [createCheckpoint][39]
    -   [applyCheckpoint][40]
        -   [Parameters][41]
-   [PlanTrainer#start][42]
-   [PlanTrainer#end][43]
-   [PlanTrainer#stop][44]
-   [PlanTrainer#epochStart][45]
    -   [Properties][46]
-   [PlanTrainer#epochEnd][47]
    -   [Properties][48]
-   [PlanTrainer#batchStart][49]
    -   [Properties][50]
-   [PlanTrainer#batchEnd][51]
    -   [Properties][52]
-   [PlanInputSpec][53]
    -   [Parameters][54]
    -   [TYPE_DATA][55]
    -   [TYPE_TARGET][56]
    -   [TYPE_BATCH_SIZE][57]
    -   [TYPE_CLIENT_CONFIG_PARAM][58]
    -   [TYPE_VALUE][59]
    -   [TYPE_MODEL_PARAM][60]
-   [PlanOutputSpec][61]
    -   [Parameters][62]
    -   [TYPE_LOSS][63]
    -   [TYPE_METRIC][64]
    -   [TYPE_MODEL_PARAM][65]
-   [PlanTrainerCheckpoint][66]
    -   [Parameters][67]
    -   [toJSON][68]
    -   [fromJSON][69]
        -   [Parameters][70]
-   [Dataset][71]
    -   [Properties][72]
    -   [Examples][73]
-   [DataLoader][74]
    -   [Parameters][75]
    -   [Properties][76]
    -   [Examples][77]
    -   [iterator][78]

## Syft

Syft client for model-centric federated learning.

### Parameters

-   `options` **[Object][79]** 
    -   `options.url` **[string][80]** Full URL to PyGrid app (`ws` and `http` schemas supported).
    -   `options.verbose` **[boolean][81]** Whether to enable logging and allow unsecured PyGrid connection.
    -   `options.peerConfig` **[Object][79]** [not implemented] WebRTC peer config used with RTCPeerConnection.

### Examples

```javascript
const client = new Syft({url: "ws://localhost:5000", verbose: true})
const job = client.newJob({modelName: "mnist", modelVersion: "1.0.0"})
job.on('accepted', async ({model, clientConfig}) => {
  // Execute training
  const training = this.train('...', { ... })
  training.on('end', async () => {
    const diff = await model.createSerializedDiffFromModel(training.currentModel)
    await this.report(diff)
  }
})
job.on('rejected', ({timeout}) => {
  // Retry later or stop
})
job.on('error', (err) => {
  // Handle errors
})
job.request()
```

### newJob

Instantiates the new Job with given options.

#### Parameters

-   `options` **[Object][79]** 
    -   `options.modelName` **[string][80]** FL Model name.
    -   `options.modelVersion` **[string][80]** FL Model version.
    -   `options.authToken` **[string][80]** FL Model authentication token.

Returns **[Job][82]** 

## Job

Job represents a single training cycle done by the client.

### Properties

-   `plans` **[Object][79]&lt;[string][80], [Plan][83]>** Plans dictionary.
-   `protocols` **[Object][79]&lt;[string][80], Protocol>** [not implemented] Protocols dictionary.
-   `model` **[SyftModel][84]** Model.

### on

Registers an event listener to the Job's event observer.

Available events: `accepted`, `rejected`, `error`.

#### Parameters

-   `event` **[string][80]** Event name.
-   `handler` **[Function][85]** Event listener.

### start

Starts the Job by executing following actions:

-   Authenticates for given FL model.
-   Meters connection speed to PyGrid (if requested by PyGrid).
-   Registers into training cycle on PyGrid.
-   Retrieves cycle and client parameters.
-   Downloads the model, plans, protocols from PyGrid.
-   Fires `accepted` event on success.

Returns **[Promise][86]&lt;void>** 

### request

-   **See: Job.start
    **

Alias for `Job.start`

Returns **[Promise][86]&lt;void>** 

### report

Submits the model diff to PyGrid.

#### Parameters

-   `diff` **[ArrayBuffer][87]** Serialized difference between original and trained model parameters.

Returns **[Promise][86]&lt;void>** 

### train

Trains the model against specified plan and using specified parameters.
Returns `PlanTrainer` object to have a handle on training process.

#### Parameters

-   `trainingPlan` **[string][80]** Training Plan name.
-   `parameters` **[Object][79]** Dictionary of training parameters.
    -   `parameters.inputs` **\[[PlanInputSpec][88]]** List of training Plan input arguments
    -   `parameters.outputs` **\[[PlanOutputSpec][89]]** List of training Plan outputs
    -   `parameters.data` **tf.Tensor** Tensor containing training data
    -   `parameters.target` **tf.Tensor** Tensor containing training targets
    -   `parameters.epochs` **[number][90]?** Epochs to train (if not specified, taken from Job)
    -   `parameters.batchSize` **[number][90]?** Batch size (if not specified, taken from Job)
    -   `parameters.stepsPerEpoch` **[number][90]?** Max number of steps per epoch (if not specified, taken from Job)
    -   `parameters.checkpoint` **[PlanTrainerCheckpoint][91]?** Checkpoint
    -   `parameters.events` **[Object][79]?** List of event listeners
        -   `parameters.events.start` **[Function][85]?** On training start listener
        -   `parameters.events.end` **[Function][85]?** On training end listener
        -   `parameters.events.epochStart` **[Function][85]?** On epoch start listener
        -   `parameters.events.epochEnd` **[Function][85]?** On epoch end listener
        -   `parameters.events.batchStart` **[Function][85]?** On batch start listener
        -   `parameters.events.batchEnd` **[Function][85]?** On batch end listener

Returns **[PlanTrainer][92]** 

## Job#accepted

`accepted` event.
Triggered when PyGrid accepts the client into training cycle.

Type: [Object][79]

### Properties

-   `model` **[SyftModel][84]** Instance of SyftModel.
-   `clientConfig` **[Object][79]** Client configuration returned by PyGrid.

## Job#rejected

`rejected` event.
Triggered when PyGrid rejects the client.

Type: [Object][79]

### Properties

-   `timeout` **([number][90] | null)** Time in seconds to retry. Empty when the FL model is not trainable anymore.

## Job#error

`error` event.
Triggered for plethora of error conditions.

## SyftModel

Model parameters as stored in the PyGrid.

### Properties

-   `params` **\[tf.Tensor]** Array of Model parameters.

### toProtobuf

Returns model serialized to protobuf.

Returns **[Promise][86]&lt;[ArrayBuffer][87]>** 

### createSerializedDiff

Calculates difference between 2 versions of the Model parameters
and returns serialized `diff` that can be submitted to PyGrid.

#### Parameters

-   `updatedModelParams` **[Array][93]&lt;tf.Tensor>** Array of model parameters (tensors).

Returns **[Promise][86]&lt;[ArrayBuffer][87]>** Protobuf-serialized `diff`.

### createSerializedDiffFromModel

Calculates difference between 2 versions of the Model
and returns serialized `diff` that can be submitted to PyGrid.

#### Parameters

-   `model` **[SyftModel][84]** Model to compare with.

Returns **[Promise][86]&lt;[ArrayBuffer][87]>** Protobuf-serialized `diff`.

## Plan

Plan stores a sequence of actions (ComputationAction) in its role.
A worker is assigned plans and executes the actions stored in the plans.

### execute

Executes the Plan and returns its output.

The order, type and number of arguments must match to arguments defined in the PySyft Plan.

#### Parameters

-   `worker` **[Syft][94]** 
-   `data` **...(tf.Tensor | [number][90])** 

Returns **[Promise][86]&lt;[Array][93]&lt;tf.Tensor>>** 

## PlanTrainer

Class that contains training loop logic.

### Properties

-   `originalModel` **[SyftModel][84]** Original model.
-   `currentModel` **[SyftModel][84]** Trained model.
-   `epoch` **[number][90]** Current epoch.
-   `batchIdx` **[number][90]** Current batch.
-   `stopped` **[boolean][81]** Is the training currently stopped.

### on

Registers an event listener to the PlanTrainer's event observer.

Available events: `start`, `end`, `epochStart`, `epochEnd`, `batchStart`, `batchEnd`.

#### Parameters

-   `event` **[string][80]** Event name.
-   `handler` **[Function][85]** Event listener.

### start

Starts the training loop.

#### Parameters

-   `resume`   (optional, default `false`)

### stop

Stops training loop and returns training checkpoint.

Returns **[Promise][86]&lt;[PlanTrainerCheckpoint][91]>** 

### resume

Resume stopped training process.

### createCheckpoint

Creates checkpoint using current training state.

Returns **[PlanTrainerCheckpoint][91]** 

### applyCheckpoint

Restores `PlanTrainer` state from checkpoint.

#### Parameters

-   `checkpoint` **[PlanTrainerCheckpoint][91]** 

## PlanTrainer#start

`start` event.
Triggered on training start.

Type: [Object][79]

## PlanTrainer#end

`end` event.
Triggered after training end.

## PlanTrainer#stop

`stop` event.
Triggered when training was stopped.

## PlanTrainer#epochStart

`epochStart` event.
Triggered before epoch start.

Type: [Object][79]

### Properties

-   `epoch` **[number][90]** Current epoch.

## PlanTrainer#epochEnd

`epochEnd` event.
Triggered after epoch end.

### Properties

-   `epoch` **[number][90]** Current epoch.

## PlanTrainer#batchStart

`batchStart` event.
Triggered before batch start.

Type: [Object][79]

### Properties

-   `epoch` **[number][90]** Current epoch.
-   `batch` **[number][90]** Current batch.

## PlanTrainer#batchEnd

`batchEnd` event.
Triggered after batch end.

Type: [Object][79]

### Properties

-   `epoch` **[number][90]** Current epoch.
-   `batch` **[number][90]** Current batch.
-   `loss` **[number][90]?** Batch loss.
-   `metrics` **[Object][79]?** Dictionary containing metrics (if any defined in the `outputs`).

## PlanInputSpec

Object that describes Plan input.
Parameters known to `PlanTrainer`
(like training data, model parameters, batch size, etc.)
are mapped into Plan arguments according to this object.

### Parameters

-   `type` **[string][80]** Input argument type.
-   `name` **[string][80]?** Optional argument name. (optional, default `null`)
-   `index` **[number][90]?** Optional argument index (to take from array). (optional, default `null`)
-   `value` **any?** Argument value. (optional, default `null`)

### TYPE_DATA

Represents training data (substituted with PlanTrainer's `data` batch)

### TYPE_TARGET

Represents training targets aka labels (substituted with PlanTrainer's `target` batch)

### TYPE_BATCH_SIZE

Represents batch size (substituted with PlanTrainer's `batchSize`).

### TYPE_CLIENT_CONFIG_PARAM

Represents parameter from client config configured in FL model, `name` argument is required (substituted with parameter from PlanTrainer's `clientConfig`).

### TYPE_VALUE

Represents any value, `value` argument is required.

### TYPE_MODEL_PARAM

Represents model parameter (substituted with `SyftModel` contents).

## PlanOutputSpec

Object that describes Plan output.
Values returned from Plan
(like loss, accuracy, model parameters, etc.)
are mapped into `PlanTrainer`'s internal state according to this object.

### Parameters

-   `type` **[string][80]** Output variable type.
-   `name` **[string][80]?** Optional name. (optional, default `null`)
-   `index` **[number][90]?** Optional index (to put into array). (optional, default `null`)

### TYPE_LOSS

Represents loss value (maps to PlanTrainer's loss).

### TYPE_METRIC

Represents metric value, name is required (maps to PlanTrainer's metrics dictionary).

### TYPE_MODEL_PARAM

Represents model parameter (maps to `SyftModel` parameters)

## PlanTrainerCheckpoint

Object that stores `PlanTrainer` state, to resume training from it.

### Parameters

-   `parameters` **[Object][79]** Dictionary of parameters
    -   `parameters.epochs` **[number][90]** Total number of epochs
    -   `parameters.stepsPerEpoch` **[number][90]?** Max steps per epoch
    -   `parameters.batchSize` **[number][90]** Batch size
    -   `parameters.clientConfig` **[Object][79]** Client config
    -   `parameters.epoch` **[number][90]** Current epoch
    -   `parameters.batch` **[number][90]** Current batch number
    -   `parameters.currentModel` **[SyftModel][84]** Current state of the Model

### toJSON

Returns `PlanTrainerCheckpoint` serialized to plain Object.

Returns **[Promise][86]&lt;[Object][79]>** 

### fromJSON

Creates `PlanTrainerCheckpoint` from object.

#### Parameters

-   `worker` **[Syft][94]** Syft Worker
-   `obj` **[Object][79]** Object containing checkpoint data

Returns **[PlanTrainerCheckpoint][91]** 

## Dataset

Abstract class for Dataset.
`getItem` method and `length` getter must be defined in the child class.

### Properties

-   `getItem` **[Function][85]** Returns a sample
-   `length` **[Number][90]** Length of the datasets

### Examples

```javascript
class MyDataset extends Dataset {
  constructor() {
    super();
    this.data = [1, 2, 3, 4, 5].map(i => tf.tensor(i));
    this.labels = [0, 0, 1, 0, 1].map(i => tf.tensor(i));
  }

  getItem(index) {
    return [this.data[index], this.labels[index]];
  }

  get length() {
    return this.data.length;
  }
}

const ds = new MyDataset();
ds[0][0].print() // => Tensor 1
ds[0][1].print() // => Tensor 0
```

## DataLoader

DataLoader controls fetching the data from the Dataset,
including shuffling and batching.
Implements iterable protocol to iterate over data samples.

Note: currently it only supports tf.Tensor data in the dataset,
and collates batches using TFJS.

### Parameters

-   `parameters` **[Object][79]** 
    -   `parameters.dataset` **[Dataset][95]** Dataset to load
    -   `parameters.batchSize` **[Number][90]** Batch size for batching (optional, default `1`)
    -   `parameters.shuffle` **[Boolean][81]** Shuffle the Dataset (optional, default `true`)
    -   `parameters.dropLast` **[Boolean][81]** Skip the last chunk if it is smaller than the `batchSize` (optional, default `false`)

### Properties

-   `length` **[Number][90]** Data length.

### Examples

```javascript
const loader = new DataLoader({dataset, batchSize: 32})
consle.log('number of batches: ', loader.length)
for (let batch of loader) {
  // ...
}
```

### iterator

Iterator producing data batches.

Returns **any** 

[1]: #syft

[2]: #parameters

[3]: #examples

[4]: #newjob

[5]: #parameters-1

[6]: #job

[7]: #properties

[8]: #on

[9]: #parameters-2

[10]: #start

[11]: #request

[12]: #report

[13]: #parameters-3

[14]: #train

[15]: #parameters-4

[16]: #jobaccepted

[17]: #properties-1

[18]: #jobrejected

[19]: #properties-2

[20]: #joberror

[21]: #syftmodel

[22]: #properties-3

[23]: #toprotobuf

[24]: #createserializeddiff

[25]: #parameters-5

[26]: #createserializeddifffrommodel

[27]: #parameters-6

[28]: #plan

[29]: #execute

[30]: #parameters-7

[31]: #plantrainer

[32]: #properties-4

[33]: #on-1

[34]: #parameters-8

[35]: #start-1

[36]: #parameters-9

[37]: #stop

[38]: #resume

[39]: #createcheckpoint

[40]: #applycheckpoint

[41]: #parameters-10

[42]: #plantrainerstart

[43]: #plantrainerend

[44]: #plantrainerstop

[45]: #plantrainerepochstart

[46]: #properties-5

[47]: #plantrainerepochend

[48]: #properties-6

[49]: #plantrainerbatchstart

[50]: #properties-7

[51]: #plantrainerbatchend

[52]: #properties-8

[53]: #planinputspec

[54]: #parameters-11

[55]: #type_data

[56]: #type_target

[57]: #type_batch_size

[58]: #type_client_config_param

[59]: #type_value

[60]: #type_model_param

[61]: #planoutputspec

[62]: #parameters-12

[63]: #type_loss

[64]: #type_metric

[65]: #type_model_param-1

[66]: #plantrainercheckpoint

[67]: #parameters-13

[68]: #tojson

[69]: #fromjson

[70]: #parameters-14

[71]: #dataset

[72]: #properties-9

[73]: #examples-1

[74]: #dataloader

[75]: #parameters-15

[76]: #properties-10

[77]: #examples-2

[78]: #iterator

[79]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[80]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[81]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[82]: #job

[83]: #plan

[84]: #syftmodel

[85]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[86]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[87]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer

[88]: #planinputspec

[89]: #planoutputspec

[90]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[91]: #plantrainercheckpoint

[92]: #plantrainer

[93]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[94]: #syft

[95]: #dataset
